<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>$Zaza The cat</title>
    <link rel="stylesheet" href="assets/css/bootstrap.min.css" />
    <link rel="stylesheet" href="assets/css/all.min.css" />
    <link rel="stylesheet" href="assets/css/style.css" />
    <link rel="stylesheet" href="assets/css/responsive.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Barlow:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&amp;display=swap"
      rel="stylesheet"
    />
    <link
      rel="shortcut icon"
      href="IMG_6669.PNG"
      type="image/x-icon"
    />
  </head>
  <body>
    <header class="header-area">
      <div class="container">
        <div class="row">
          <div class="col-12">
            <div
              class="header-main d-flex justify-content-between align-items-center"
            >
              <div class="header-logo">
                <a href="./"
                  ><img src="zazalogo.PNG" alt="logo"
                /></a>
              </div>
              <div class="header-right d-flex align-items-center">
                <nav class="navbar navbar-expand-lg">
                  <button
                    class="navbar-toggler"
                    type="button"
                    data-bs-toggle="collapse"
                    data-bs-target="#navbarSupportedContent"
                    aria-controls="navbarSupportedContent"
                    aria-expanded="false"
                    aria-label="Toggle navigation"
                  >
                    <div class="sandwitch">
                      <span></span>
                      <span></span>
                      <span></span>
                      <span></span>
                      <span></span>
                      <span></span>
                    </div>
                  </button>
                  <div
                    class="collapse navbar-collapse"
                    id="navbarSupportedContent"
                  >
                    <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                      <li class="nav-item active">
                        <a class="nav-link" aria-current="page" href="#"
                          >Home</a
                        >
                      </li>
                      <li class="nav-item">
                        <a class="nav-link" href="https://twitter.com/zaza_thecat"
                          >Twitter(X)</a
                        >
                      </li>
                      <li class="nav-item">
                        <a class="nav-link" href="https://twitter.com/zaza_thecat"
                          >Telegram</a
                        >
                      </li>
                      
                      <li class="nav-item">
                        <a
                          class="nav-link"
                          href="https://twitter.com/zaza_thecat"
                          >Uniswap</a
                        >
                      </li>
                     
                    </ul>
                    <div class="header-btn ms-3">
                      <a class="btn btn-secondary" href=""
                        >Buy $Zaza</a
                      >
                    </div>
                  </div>
                </nav>
              </div>
            </div>
          </div>
        </div>
      </div>
    </header>
    <main class="main--area p-120 pt-0">
      <section class="slider__area slider__bg position-relative">
        <div class="slider-activee">
          <div class="single-slider">
            <div class="container custom-container">
              <div class="row justify-content-between">
                <div class="col-lg-6">
                  <div class="slider__content">
                    <h2 class="title">ZAZA</h2>
                    <p>...world famous cat.</p>
                    <div class="slider__btn">
                      <a href="" class="btn btn-primary"
                        ><span>Buy $ZAZA</span></a
                      >
                    </div>
                  </div>
                </div>
                <div class="col-xxl-6 col-xl-5 col-lg-6">
                  <div class="slider__img text-center">
                    <img src="IMG_6669.PNG" />
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="slider__shapes">
          <img src="IMG_6669.PNG" alt="shape" />
          <img src="IMG_6669.PNG" alt="shape" />
          <img src="IMG_6669.PNG" alt="shape" />
          <img src="IMG_6669.PNG" alt="shape" />
        </div>
      </section>
      <section class="count-area position-relative">
        <div class="container">
          <div class="row">
            <div class="col-12">
              <div class="count-main d-flex justify-content-between">
                <div class="count-box text-center">
                  <span>Total Token Supply</span>
                  <h2>1b+</h2>
                </div>
                <div class="count-box text-center">
                  <span>Token Holders</span>
                  <h2 id="holdersList">0</h2>
                </div>
                <div class="count-box text-center">
                  <span>Buy Tax</span>
                  <h2>0%</h2>
                </div>

                <div class="count-box text-center">
                  <span>Sell Tax</span>
                  <h2>0%</h2>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>
      <section class="about-section p-120" id="about">
        <div class="container">
          <div class="row align-items-center">
           
            <div class="col-12">
              <div class="about-info text-center">
                <div class="section-title mb-30">
                  <h2><span>CAT</span> ISSUES?</h2>
                </div>
                <div class="about-des">
                  <p>
                    Zaza: the internet's sassiest cat! With moves smoother than butter and a personality bigger than her cat tower, she's not just a petâ€”she's a purr-former! From viral videos to meme-worthy moments, Zaza rules the digital jungle with style and sass. Get ready to LOL and experience the thrill of $ZAZA on the Base blockchain!
                  </p>
                  <div class="about-btn">
                    <a class="btn btn-primary" href=""
                      ><span>Buy $ZAZA</span></a
                    >
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
 
      
      </section>
    </main>
    <footer class="footer-style-two has-footer-animation" id="contact">
      <div class="footer__country">
        <div class="container custom-container">
          <div class="row">
            <div class="col-6">
              <div class="section-title mb-30">
                <h2><span class="footer-texts">$ZAZA</span></h2>
              </div>
            </div>
            <div class="col-6">
              <div class="section-title mb-30 text-center text-sm-end">
                <h2><span class="footer-texts">En BASE</span></h2>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="footer__two-widgets">
      </div>
    </footer>
    <div id="to-top"><i class="fas fa-arrow-up fa-fw"></i></div>
    <script src="assets/js/jquery-3.6.0.min.js"></script>
    <script src="assets/js/bootstrap.bundle.min.js"></script>
    <script src="assets/js/custom.js"></script>
    <script>
     




// Get references to HTML elements
const baseImageUpload = document.getElementById('baseImageUpload');
const addOverlayBtn = document.getElementById('addOverlayBtn');
const resizeControl = document.getElementById('resizeControl');
const rotateControl = document.getElementById('rotateControl');
const canvas = document.getElementById('imageCanvas');
const ctx = canvas.getContext('2d');
const downloadBtn = document.getElementById('downloadBtn');
const resetBtn = document.getElementById('resetBtn');
const preview = document.getElementById('preview');
 

// Initialize variables
let baseImage = null;
let overlayImage = null;
let overlayImageScale = 0.2; // Initial scale (20%)
let overlayRotation = 180;
let overlayPosition = { x: 50, y: 50 };
let isDragging = false;
let dragStartX, dragStartY;
let overlayImageUrl = './C58-DDA86-93-E9-4559-9-FC3-86-D994256247-1.png';

// Add an initial call to setCanvasDimensions to ensure canvas dimensions are set correctly on page load
setCanvasDimensions();

// Add an event listener to update canvas dimensions when the window is resized
window.addEventListener('resize', setCanvasDimensions);

// Load base image when a file is selected
baseImageUpload.addEventListener('change', function(e) {
 
 
    loadImage(e.target.files[0], true);
});

// Load overlay image when "ADD PHAT" button is clicked
addOverlayBtn.addEventListener('click', function() {
     loadOverlayImage(overlayImageUrl);
});


 

// Handle resizing of the overlay image from the center
resizeControl.addEventListener('input', function () {
    if (baseImage && overlayImage) {
        const newScale = resizeControl.value / 100;
        const centerX = overlayPosition.x + (overlayImage.width * overlayImageScale) / 2;
        const centerY = overlayPosition.y + (overlayImage.height * overlayImageScale) / 2;
        
        overlayImageScale = newScale;
        overlayPosition.x = centerX - (overlayImage.width * overlayImageScale) / 2;
        overlayPosition.y = centerY - (overlayImage.height * overlayImageScale) / 2;
        drawImages();
    }
});

// Handle rotation of the overlay image
rotateControl.addEventListener('input', function() {
    overlayRotation = parseInt(rotateControl.value);
    drawImages();
});

// Mouse interactions for dragging
canvas.addEventListener('mousedown', startDragging);
canvas.addEventListener('mousemove', dragImage);
canvas.addEventListener('mouseup', stopDragging);

// Touch interactions for dragging
canvas.addEventListener('touchstart', startDragging);
canvas.addEventListener('touchmove', dragImage);
canvas.addEventListener('touchend', stopDragging);

// Function to handle touchmove on the entire document
function preventDocumentScroll(e) {
    e.preventDefault();
}

// Load image and display it on the canvas
function loadImage(input, isBase) {
  preview.style.border = "1px solid rgb(31 210 222 / 60%)";
  preview.style.backgroundColor = "#de1fb700";

  const img = new Image();
  img.onload = function() {
    if (isBase) {
      baseImage = img;
      scaleAndCenterBaseImage();
      drawImages();
    }
  };

  // Check if the input is a File object (from a file input)
  if (input instanceof File) {
    const reader = new FileReader();
    reader.onload = function(event) {
      img.src = event.target.result;
    };
    reader.readAsDataURL(input);
  } else if (typeof input === 'string') { // Check if the input is a URL string
    img.src = input;
  } else {
    console.error('Invalid input type. Expected a File object or a URL string.');
  }
}

// Scale and center base image to fit the canvas while maintaining aspect ratio
function scaleAndCenterBaseImage() {
    const canvasAspectRatio = canvas.width / canvas.height;
    const imageAspectRatio = baseImage.width / baseImage.height;
    let scale;

    if (canvasAspectRatio > imageAspectRatio) {
        scale = canvas.height / baseImage.height;
        baseImage.width *= scale;
        baseImage.height *= scale;
    } else {
        scale = canvas.width / baseImage.width;
        baseImage.width *= scale;
        baseImage.height *= scale;
    }

    // Center the image on the canvas
    const centerX = canvas.width / 2;
    const centerY = canvas.height / 2;
    overlayPosition = { x: centerX - baseImage.width / 2, y: centerY - baseImage.height / 2 };
}

// Load overlay image and display it on the canvas
function loadOverlayImage(url) {
    const img = new Image();
    img.crossOrigin = "Anonymous";
    img.onload = function() {
        overlayImage = img;
        calculateOverlayScale();
        overlayPosition = { x: 50, y: 50 };
        drawImages();
    }
    img.src = url;
}

// Scale base image to fit the canvas while maintaining aspect ratio
function scaleBaseImageToFitCanvas() {
    let scale = Math.min(canvas.width / baseImage.width, canvas.height / baseImage.height);
    baseImage.width *= scale;
    baseImage.height *= scale;
}

// Calculate initial scale for overlay image
function calculateOverlayScale() {
    if (baseImage && overlayImage) {
        overlayImageScale = 0.2 * (baseImage.width / overlayImage.width);
        resizeControl.value = overlayImageScale * 100;
    }
}

// Start dragging overlay image
function startDragging(e) {
    const rect = canvas.getBoundingClientRect();
    let clientX, clientY;

    if (e.type === 'mousedown') {
        clientX = e.clientX;
        clientY = e.clientY;
    } else if (e.type === 'touchstart') {
        clientX = e.touches[0].clientX;
        clientY = e.touches[0].clientY;
    }

    const mouseX = clientX - rect.left;
    const mouseY = clientY - rect.top;

    if (mouseX >= overlayPosition.x && mouseX <= overlayPosition.x + overlayImage.width * overlayImageScale &&
        mouseY >= overlayPosition.y && mouseY <= overlayPosition.y + overlayImage.height * overlayImageScale) {
        isDragging = true;
        dragStartX = mouseX - overlayPosition.x;
        dragStartY = mouseY - overlayPosition.y;

        // Prevent document scrolling during dragging on mobile
        document.addEventListener('touchmove', preventDocumentScroll, { passive: false });
    }
}

// Drag overlay image
function dragImage(e) {
    if (isDragging) {
        const rect = canvas.getBoundingClientRect();
        let clientX, clientY;

        if (e.type === 'mousemove') {
            clientX = e.clientX;
            clientY = e.clientY;
        } else if (e.type === 'touchmove') {
            clientX = e.touches[0].clientX;
            clientY = e.touches[0].clientY;
        }

        overlayPosition.x = clientX - rect.left - dragStartX;
        overlayPosition.y = clientY - rect.top - dragStartY;
        drawImages();
    }
}

// Stop dragging overlay image
function stopDragging() {
    isDragging = false;

    // Remove the event listener to allow document scrolling again
    document.removeEventListener('touchmove', preventDocumentScroll);
}


// Draw base and overlay images on the canvas
function drawImages() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);

    if (baseImage) {
                ctx.drawImage(baseImage, (canvas.width - baseImage.width) / 2, (canvas.height - baseImage.height) / 2, baseImage.width, baseImage.height);
    }

    if (overlayImage) {
        ctx.save();
        ctx.translate(overlayPosition.x + overlayImage.width * overlayImageScale / 2, overlayPosition.y + overlayImage.height * overlayImageScale / 2);
        ctx.rotate(overlayRotation * Math.PI / 180);
        ctx.drawImage(overlayImage, -overlayImage.width * overlayImageScale / 2, -overlayImage.height * overlayImageScale / 2, overlayImage.width * overlayImageScale, overlayImage.height * overlayImageScale);
        ctx.restore();
    }
}

// Reset button functionality
resetBtn.addEventListener('click', function() {
  
    preview.style.border ="none";
    preview.style.backgroundColor = "#de1fb75c";
    loadImage("./images/chonkys/upload-icon.png", true);
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    baseImage = null;
    overlayImage = null;
    overlayImageScale = 0.2;
    overlayRotation = 0;
    overlayPosition = { x: 50, y: 50 };
    isDragging = false;
    dragStartX = 0;
    dragStartY = 0;
    baseImageUpload.value = '';
    resizeControl.value = 20;
    rotateControl.value = 0;
    drawImages();
});

// Download button functionality
downloadBtn.addEventListener('click', function() {
    // Create a larger canvas for upscaling
    const enlargedCanvas = document.createElement('canvas');
    const enlargedCtx = enlargedCanvas.getContext('2d');
    enlargedCanvas.width = canvas.width * 2;
    enlargedCanvas.height = canvas.height * 2;

    // Draw base and overlay images on the enlarged canvas with the desired scaling
    if (baseImage) {
        const baseImageScale = 2; // Upscale by 2x
        const baseImageX = (enlargedCanvas.width - baseImage.width * baseImageScale) / 2;
        const baseImageY = (enlargedCanvas.height - baseImage.height * baseImageScale) / 2;
        enlargedCtx.drawImage(baseImage, baseImageX, baseImageY, baseImage.width * baseImageScale, baseImage.height * baseImageScale);
    }

    if (overlayImage) {
        const overlayImageX = overlayPosition.x * 2;
        const overlayImageY = overlayPosition.y * 2;
        const overlayImageWidth = overlayImage.width * overlayImageScale * 2;
        const overlayImageHeight = overlayImage.height * overlayImageScale * 2;

        enlargedCtx.save();
        enlargedCtx.translate(
            overlayImageX + overlayImageWidth / 2,
            overlayImageY + overlayImageHeight / 2
        );
        enlargedCtx.rotate(overlayRotation * Math.PI / 180);
        enlargedCtx.drawImage(
            overlayImage,
            -overlayImageWidth / 2,
            -overlayImageHeight / 2,
            overlayImageWidth,
            overlayImageHeight
        );
        enlargedCtx.restore();
    }

    // Export the enlarged canvas as an image
    const dataURL = enlargedCanvas.toDataURL('image/png');
    const downloadLink = document.createElement('a');
    downloadLink.href = dataURL;
    downloadLink.download = 'enlarged_image.png';
    downloadLink.click();
});


// Function to set canvas dimensions dynamically
function setCanvasDimensions() {
    const maxWidthMobile = 300; // Maximum width for mobile

    const viewportWidth = window.innerWidth;
    const viewportHeight = window.innerHeight;

    // Check if it's a mobile device (you can adjust this condition as needed)
    const isMobile = viewportWidth <= 768; // Adjust the breakpoint if necessary

    if (isMobile) {
        canvas.width = maxWidthMobile;
        canvas.height = maxWidthMobile; // Set the canvas width and height to 300px for mobile
    } else {
        const maxWidth = 600;
        const maxHeight = 600;
        const aspectRatio = maxWidth / maxHeight;

        // Calculate canvas dimensions based on screen size and aspect ratio
        if (viewportWidth < maxWidth || viewportHeight < maxHeight) {
            if (viewportWidth / viewportHeight > aspectRatio) {
                canvas.width = viewportHeight * aspectRatio;
                canvas.height = viewportHeight;
            } else {
                canvas.width = viewportWidth;
                canvas.height = viewportWidth / aspectRatio;
            }
        } else {
            canvas.width = maxWidth;
            canvas.height = maxHeight;
        }
    }

    // Redraw images when canvas dimensions change
    if (baseImage) {
        scaleBaseImageToFitCanvas();
        calculateOverlayScale();
        drawImages();
    }
}


loadImage("./images/chonkys/upload-icon.png", true);

document.addEventListener("DOMContentLoaded", () => {
        const scrollAmount = 200;

        document.querySelectorAll(".memes").forEach((memeElement) => {
          const memeOptions = memeElement.querySelector(".memeOptions");
          const leftArrow = memeElement.querySelector(".sliderArrow.left");
          const rightArrow = memeElement.querySelector(".sliderArrow.right");

          leftArrow.addEventListener("click", () => {
            memeOptions.scrollLeft -= scrollAmount;
          });

          rightArrow.addEventListener("click", () => {
            memeOptions.scrollLeft += scrollAmount;
          });
        });

        
        document.querySelectorAll(".gato-face").forEach((face) => {
    face.addEventListener("click", function() { // Changed to a function expression
        // Remove 'selected' class from all
        document.querySelectorAll(".gato-face").forEach((el) => {
            el.classList.remove('selected');
        });

        // Add 'selected' to clicked one
        this.classList.add('selected');

        overlayImageUrl = this.src; // 'this' now correctly refers to the clicked '.gato-face' element
        loadOverlayImage(overlayImageUrl);
        drawImages();
    });
});


      });

   fetch('https://gentle-hill-e574.glowing-monkey.workers.dev/oracle/holders')
  .then(response => response.json()) // Parse the JSON from the response
  .then(data => {
    // Assuming 'data' is an array of holder objects
    const holdersDiv = document.getElementById('holdersList');
    holdersDiv.innerHTML = ''; // Clear the loading message or previous content

    if (data.holders && data.holders > 0) {
      holdersDiv.innerHTML = data.holders 

    } 
  })
    </script>
  </body>
</html>
